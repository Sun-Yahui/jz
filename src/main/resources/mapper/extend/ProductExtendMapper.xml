<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.briup.jz.dao.extend.ProductExtendMapper">
  <select id="select" resultMap="ProductExtendResultMap">
    select *
    from jz_product
      <where>
          <if test="name != null">
              and name like concat("%",#{name},"%")
          </if>
          <if test="status != null">
              and status = #{status}
          </if>
          <if test="productCategoryId != null">
              and product_category_id = #{productCategoryId}
          </if>
      </where>

  </select>

  <resultMap
          id="ProductExtendResultMap"
          type="com.briup.jz.bean.extent.ProductExtend"
          extends="com.briup.jz.dao.ProductMapper.BaseResultMap">
          <!--多对一映射-->
          <association property="productCategory"
                       column="product_category_id"
                       select="com.briup.jz.dao.ProductCategoryMapper.selectByPrimaryKey">
          </association>
  </resultMap>
</mapper>